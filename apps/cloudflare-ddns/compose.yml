services:
  cloudflare-ddns:
    cap_drop: [all]
    container_name: cloudflare-ddns
    image: favonia/cloudflare-ddns:latest
    network_mode: host
    read_only: true
    restart: unless-stopped
    security_opt: [no-new-privileges:true]
    logging:
      driver: "json-file"
      options:
        max-file: "5"
        max-size: "10m"
    env_file:
      - ../../.env
    environment:
      CF_API_TOKEN: ${CLOUDFLARE_API_TOKEN}
      DOMAINS: ${CLOUDFLARE_DOMAINS}
      PROXIED: "false"

networks:
  external:
    external: true
